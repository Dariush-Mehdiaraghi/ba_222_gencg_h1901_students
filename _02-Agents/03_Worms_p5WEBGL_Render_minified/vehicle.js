class Vehicle{constructor(t,i,e,s,o,a){this.target=createVector(e,s),this.position=createVector(t,i),this.velocity=createVector(o,a),this.acceleration=createVector(),this.maxSpeed=40,this.maxForce=.2,this.found=!1,this.terminator=!1,this.arriveR=50,this.fear=5,this.lastPosition=createVector(t,i)}applyForce(t){this.acceleration=t}seek(){let t=p5.Vector.sub(this.target,this.position);if(t.mag()<this.arriveR&&t.mag()>this.arriveR-2?this.found=!0:this.found=!1,t.mag()<this.arriveR){let i=map(t.mag(),0,this.arriveR,0,this.maxSpeed);t.setMag(i)}else t.setMag(this.maxSpeed);let i=p5.Vector.sub(t,this.velocity);i.setMag(this.maxForce),this.applyForce(i)}flee(t){let i=createVector();for(var e=0;e<t.length;e++){let s=t[e],o=p5.Vector.dist(s.position,this.position);if(o>0&&o<this.fear){let t=p5.Vector.sub(this.position,s.position);t.normalize(),t.div(o),i.add(t),0}}i.setMag(this.maxSpeed);p5.Vector.sub(this.target,this.position);let s=p5.Vector.sub(i,this.velocity);s.setMag(this.maxForce),this.applyForce(s)}update(){this.velocity.add(this.acceleration),this.position.add(this.velocity),this.acceleration.mult(0)}show(){circle(this.position.x,this.position.y,windowWidth/200)}}
